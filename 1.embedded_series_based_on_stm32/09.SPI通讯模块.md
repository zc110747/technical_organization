# **单片机总结系列(九) SPI通讯模块**

SPI是常用的连接外部芯片或者器件交互的接口，对于STM32的SPI接口，支持主从两种模式，作为主模式时主要用于访问外部器件，常见的有SPI_FLASH，3轴加速度计，外部ADC采样芯片，当然也可以通过SPI访问其它从设备。从模式则只能作为被动器件，应答其它主SPI设备的通讯。SPI设计上为主从结构，支持一主多从设计。一般由4-wire控制，具有独立的输入输出引脚，因此也是全双工的接口，不过需要主机提供时钟触发信号，因此即使读取数据时也需要主机执行发送动作提供时钟支持。SPI

1. 片选CS, 芯片使能控制脚，低电平有效居多，当CS为高时芯片不工作，可通过多个CS脚，控制芯片的开关从而实现一路SPI访问多颗芯片。
2. 时钟CLS，时钟引脚，由主机发出，为主从机通讯提供同步时钟。
3. 数据输出MOSI，主机数据输出脚，配合Clock同步发出数据。
4. 数据输入MISO，主机数据输入脚，根据Clock接收数据。

##